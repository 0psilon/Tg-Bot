# Tg-Bot

## Последовательность запуска:
1. необходимо сконфигурировать .env файл по примеру .env.example
2. поднимаем контейнеры: ```docker compose up```
3. необходимо в базе даных создать таблицу: ```CREATE TABLE tg_ids (tg_id int);```
4. бот готов к эксплуатации


## Attention!

В папке *schedules* размещаются расписания для каждого из дней кэмпа. 
Названия картинок с расписанием в папке *schedules* должны быть в формате **YYYY-MM-DD.png**, например **2023-06-29.png**.
Одно изображение для каждого дня.

В случае изменений в расписании, контейнеры необходимо остановить командой `docker compose down` (докер вольюм при этом сохраняется), положить в папку *schedules* новую картинку с расписанием, удалив при этом старую, и перебилдить образы при поднятии контейнеров командой `docker compose up --build`. Новая картинка сразу станет доступна по кнопке *Расписание* в меню тг-бота.


## Функционал бота:

### Кнопки меню:

1. Подключиться к встрече - высылает ссылку на подключение
2. Обратная связь - высылает ссылку на форму для обратной связи

### Запланированные события:

1. Отправка расписания на текущий день каждому пользователю тг-бота в 12:00 мск
2. Отправка напоминания о начале дня встреч в 15:55 мск (за 5 минут до начала) каждому пользователю
3. Отправка формы для обратной связи в 20:00 мск каждому пользователю

### События по триггеру от админа:

1. Отправка расписания текущего дня каждому пользователю тг-бота (например, при внесении изменений в текущее расписание), команда ```/admin_send_schedule```
2. Отправка формы для обратной связи (если требуется высылать её больше, чем 1 раз в день), команда ```/admin_send_feedback```
3. Отправка расписания всех дней каждому пользователю, команда ```/admin_send_both```
